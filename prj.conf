# SPDX-License-Identifier: Apache-2.0

# Base C++ Config & Drivers
CONFIG_GPIO=y
CONFIG_CPP=y
CONFIG_STD_CPP20=y
CONFIG_NEWLIB_LIBC=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y

# --- Logging Subsystem ---
CONFIG_LOG_MODE_IMMEDIATE=y
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_DEFAULT_LEVEL=3

# --- Networking Stack ---
CONFIG_NETWORKING=y
CONFIG_NET_L2_ETHERNET=y
CONFIG_NET_LOG=y

# IPv6 Configuration
CONFIG_NET_IPV6=y
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_NEED_IPV6=y
CONFIG_NET_CONFIG_AUTO_INIT=y

# --- USB Device Stack ---
CONFIG_USB_DEVICE_STACK=y

# Set custom Vendor and Product IDs to resolve build warnings
CONFIG_USB_DEVICE_VID=0x1209
CONFIG_USB_DEVICE_PID=0x0001

# Product and Serial Number are temporarily removed to resolve build errors.
# The device will enumerate with default Zephyr values.
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=y
CONFIG_USB_DC_STM32=y

# --- USB Classes ---
# Enable CDC ACM (Virtual COM Port) to satisfy dependencies.
CONFIG_USB_CDC_ACM=y

# Enable the USB ECM networking class, which is our primary goal.
CONFIG_USB_DEVICE_NETWORK_ECM=y

# Kernel options for networking threads
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096
